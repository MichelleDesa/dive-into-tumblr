/* GLOBAL VARIABLES */
$color-highlight: #e54135;
$color-header-text: #000;
$color-body-text: #222;
$color-info-text: #555;
$color-border: #ccc;

$v-gutter: 20px;
$h-gutter: $v-gutter;


/* IMPORTS */
@import "normalize";
@import "compass/css3/font-face";
@import "compass/typography/lists/inline-block-list";
@import "compass/css3/border-radius";
@import "compass/css3/box-shadow";
@import "compass/css3/box-sizing";
@import "mixins";
@import "typography";
@import "forms";


/* LAYOUT */
$page-content-width: 580px;

.page-content {
    width: $page-content-width;
    padding: $v-gutter/2 $h-gutter/2;
    margin: $v-gutter auto;
}


/* THEME */
body {
    color: $color-body-text;
    border-top: 5px solid $color-body-text;
}

a {
    color: $color-highlight;
    text-decoration: none;
    border-bottom: 1px dotted;
    &:hover {
        border-bottom-style: solid;
    }
}

h1, h2, h3, h4, h5, h6 {
    color: $color-header-text;
}

.info {
    color: $color-info-text;
    @include rem($smaller-font-size);
}

.description {
    @include rem($larger-font-size);
}

img {
    @include border-radius;
    padding: $v-gutter/3 $h-gutter/3;
    border: 1px solid $color-border;
}

.video-wrapper {
    iframe, video, embed {
        @include border-radius;
        padding: $v-gutter/3 $h-gutter/3;
        border: 1px solid $color-border;
    }
}

figcaption, .caption {
    margin: $v-gutter/2 0;
    display: block;
}


/* POSTS AND BLOG CONTENT STYLING */
$type-icon-size: 40px;
@include icon(40);

.icon_40x40.type-icon {
    @include bg-img(transparent, "post-type-icons.png", no-repeat, 0, 0);
}

.post-metadata {
    @include inline-block-list($h-gutter/4);
    float: right;
    line-height: $type-icon-size;
}

.posts {
    @include vertical-list;
    margin: $h-gutter*1.5 0 0;
}

.post-separator {
    font-family: $font-separator;
    text-align: center;
    display: block;
    margin: $v-gutter*1.5 0;
}

.inline-separator {
    font-family: $font-separator;
    display: inline-block;
    margin: 0 $h-gutter*1.5;
}

.post {
    .post-content {
        margin-left: $type-icon-size + 20px;
    }
    &.link .type-icon {
        background-position: 0 0;
    }
    &.quote .type-icon {
        background-position: 0 -61px;
    }
    &.text .type-icon {
        background-position: 0 -123px;
    }
    &.photo .type-icon {
        background-position: 0 -186px;
    }
    &.video .type-icon {
        background-position: 0 -249px;
    }
    &.audio .type-icon {
        background-position: 0 -311px;
    }
    &.chat .type-icon {
        background-position: 0 -373px;
    }
}

.quote-source{
    display: block;
    margin: $v-gutter/2 0;
    &:before {
        content: "\2014"; //Unicode for &mdash;
    }
}

.about-author {
    @include clearfix;
    .profile-img {
        margin-right: $h-gutter;
        float: left;
    }
    .bio {
        margin: 0;
        overflow: hidden;
    }
}

footer {
    text-align: center;
    background-color: $color-highlight;
    padding: $v-gutter/2 0;
    .misc-links {
        @include inline-block-list($h-gutter);
        a {
            @include rem($h4-font-size);
            font-family: $font-header;
            color: $color-body-text;
            border-color: $color-body-text;
        }
    }
}

.credits {
    @include rem($smaller-font-size);
    margin: $v-gutter*2 0 0;
    .created-by {
        display: block;
        margin-bottom: $v-gutter/3;
    }
}

.tag-list {
    @include inline-block-list($h-gutter/4);
    .tag {
        .tip {
            vertical-align: middle;
            display: inline-block;
            width: 0;
            height: 0;
            //Pixel fallback
            border-top: 14px solid transparent;
            border-bottom: 15px solid transparent;
            border-right: 8px solid $color-body-text;
            margin-right: -4px;

            border-top: 1.4rem solid transparent;
            border-bottom: 1.5rem solid transparent;
            border-right: 0.8rem solid $color-body-text;
            margin-right: -0.4rem;
        }
        a {
            font-family: $font-header;
            color: #fff;
            background-color: $color-body-text;
            padding: $h-gutter/4 $h-gutter/4 $h-gutter/4 0;
            border-width: 0;
            &:before {
                @include rem(36px);
                font-family: $font-separator;
                text-rendering: optimizeLegibility;
                content: 'C';
                padding-right: $h-gutter/4;
            }
        }
        &:hover {
            .tip {
                border-right-color: $color-highlight;
            }
            a {
                background-color: $color-highlight;
            }
        }
    }
}
